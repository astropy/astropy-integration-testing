name: astropy_rc_basic

on:
  workflow_dispatch:
  pull_request:

concurrency:
  group: ${{ github.workflow }}-${{ github.ref }}
  cancel-in-progress: true

permissions:
  contents: read

# These only prove that basic test suite in Linux works.
# It is up to the individual packages to do detailed testing with astropy RC.
jobs:
  test:
    uses: OpenAstronomy/github-actions-workflows/.github/workflows/tox.yml@924441154cf3053034c6513d5e06c69d262fb9a6  # v1.13.0
    with:
      submodules: false
      envs: |
        - linux: py313-asdf_astropy
        - linux: py313-asdf_astropy-dev
        - linux: py313-astropy_healpix
        - linux: py313-astropy_healpix-dev
        - linux: py313-astroquery
        - linux: py313-astroquery-dev
        - linux: py313-ccdproc
        - linux: py313-ccdproc-dev
        - linux: py313-photutils
        - linux: py313-photutils-dev
        - linux: py313-regions
        - linux: py313-regions-dev
        - linux: py313-reproject
        - linux: py313-reproject-dev
        - linux: py313-specreduce
        - linux: py313-specreduce-dev
        - linux: py313-specutils
        - linux: py313-specutils-dev
        - linux: py313-sunpy
        - linux: py313-sunpy-dev
