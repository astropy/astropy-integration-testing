name: astropy_rc_basic

on:
  workflow_dispatch:
  pull_request:

concurrency:
  group: ${{ github.workflow }}-${{ github.ref }}
  cancel-in-progress: true

permissions:
  contents: read

# These only prove that basic test suite in Linux works.
# It is up to the individual packages to do detailed testing with astropy RC.
jobs:
  test:
    uses: OpenAstronomy/github-actions-workflows/.github/workflows/tox.yml@8c0fde6f7e926df6ed7057255d29afa9c1ad5320  # v1.16.0
    with:
      submodules: false
      envs: |
        - linux: py311-astroquery
        - linux: py311-astroquery-dev
